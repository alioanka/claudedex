{% extends "base.html" %}

{% block title %}Settings - DexScreener Trading Bot{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Settings</h1>
    <div class="page-actions">
        <button class="btn btn-secondary" id="revertAllSettings" disabled>
            <i class="fas fa-undo"></i> Revert All
        </button>
        <button class="btn btn-primary" id="saveAllSettings">
            <i class="fas fa-save"></i> Save All Changes
        </button>
    </div>
</div>

<!-- Settings Tabs -->
<div class="tabs">
    <button class="tab-btn active category-tab" data-category="account">Account</button>
    <button class="tab-btn category-tab" data-category="trading">Trading</button>
    <button class="tab-btn category-tab" data-category="risk">Risk</button>
    <button class="tab-btn category-tab" data-category="api">API</button>
    <button class="tab-btn category-tab" data-category="monitoring">Monitoring</button>
    <button class="tab-btn category-tab" data-category="ml_models">ML Models</button>
</div>

<!-- Settings Sections -->
<div id="settings-container">
    <div id="account-settings" class="settings-section card">
        <div class="card-header"><h3 class="card-title">Account & Security</h3></div>
        <div class="card-body">
            <div class="setting-group">
                <h4>Change Password</h4>
                <form id="changePasswordForm" method="post" action="#" onsubmit="return false;">
                    <div class="form-group">
                        <label for="currentPassword">Current Password</label>
                        <input type="password" id="currentPassword" name="currentPassword"
                               class="form-control" required autocomplete="current-password">
                    </div>
                    <div class="form-group">
                        <label for="newPassword">New Password</label>
                        <input type="password" id="newPassword" name="newPassword"
                               class="form-control" required minlength="8" autocomplete="new-password">
                        <small class="form-text">Minimum 8 characters</small>
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Confirm New Password</label>
                        <input type="password" id="confirmPassword" name="confirmPassword"
                               class="form-control" required minlength="8" autocomplete="new-password">
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-key"></i> Change Password
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="trading-settings" class="settings-section card" style="display: none;">
        <div class="card-header"><h3 class="card-title">Trading Configuration</h3></div>
        <div class="card-body" id="trading-settings-form"></div>
    </div>
    <div id="risk-settings" class="settings-section card" style="display: none;">
        <div class="card-header"><h3 class="card-title">Risk Management</h3></div>
        <div class="card-body" id="risk-settings-form"></div>
    </div>
    <div id="api-settings" class="settings-section card" style="display: none;">
        <div class="card-header"><h3 class="card-title">API & Connections</h3></div>
        <div class="card-body" id="api-settings-form"></div>
    </div>
    <div id="monitoring-settings" class="settings-section card" style="display: none;">
        <div class="card-header"><h3 class="card-title">Monitoring & Notifications</h3></div>
        <div class="card-body" id="monitoring-settings-form"></div>
    </div>
    <div id="ml_models-settings" class="settings-section card" style="display: none;">
        <div class="card-header"><h3 class="card-title">Machine Learning Models</h3></div>
        <div class="card-body" id="ml_models-settings-form"></div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="/static/js/settings.js?v=2"></script>
{% endblock %}
